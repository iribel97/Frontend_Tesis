<div class="w-full">
    <div class="flex flex-row justify-between" *ngIf="isTutor">
        <div class="w-1/2 p-3">
            <div class="bg-blue-100 border-l-4 text-blue-700 p-4 rounded-lg shadow-md mb-4" role="alert">
                <p class="font-bold">Informaci칩n de Tutor칤a</p>
                <p>Usted es tutor del curso <span class="font-semibold">{{cursoTutor}}</span>.</p>
            </div>

        </div>
    </div>
    <div class="flex flex-row items-center justify-between mb-5">
        <div class="w-1/2 p-3">
            <app-calendar></app-calendar>
        </div>
        <div class="w-1/2 h-96 flex flex-col ">
            <h3 class="text-xl font-semibold mb-4 ml-4">Horario del D칤a</h3>
            <div *ngIf="horario === null" class="timeline overflow-y-auto">
                
                <div class="timeline-content">
                    <p class="timeline-subject">Hoy tiene el d칤a libre 游땎</p>
                </div>
            </div>
            <div class="timeline overflow-y-auto" *ngIf="horario !== null">
                <div *ngFor="let item of horario" class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <p class="timeline-time">{{ item.hora.horaInicio }} - {{ item.hora.horaFin }}</p>
                        <p class="timeline-subject">{{ item.dia.materia }} - {{ item.dia.curso }}</p>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="flex flex-row items-center justify-center mb-4" *ngIf="isTutor">
        <div class="flex items-center w-full">
            <div class="flex-grow border-t border-gray-300"></div>
            <h3 class="text-2xl font-semibold mx-4">{{cursoTutor}}</h3>
            <div class="flex-grow border-t border-gray-300"></div>
        </div>
    </div>
    <div class="flex flex-row items-center justify-between" >
        <div class="w-1/3 flex flex-col items-center justify-center" >
            <h3 class="text-2xl font-semibold mb-4">% Asistencias</h3>
            <div class="flex flex-row items-center w-80 justify-center">
                <canvas id="attendancePieCanvas"></canvas>
            </div>
        </div>
        <div class="w-2/3 col-span-4 row-span-3 col-start-4 flex flex-col items-center justify-center">
            <h3 class="text-2xl font-semibold mb-4">Cantidad asistencias</h3>
            <canvas id="averageBarCanvas"></canvas>
        </div>
    </div>
    <div class="flex flex-row items-center justify-between" *ngIf="isTutor">
        <div class="w-1/2 p-3">
            <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg shadow-md mb-4" role="alert">
                <p class="font-bold">Estudiante con el Peor Promedio</p>
                <p>El estudiante <span class="font-semibold">{{estudentWorstProm}}</span> no cuenta con un buen promedio
                    en todo el
                    curso.</p>
            </div>
        </div>
        <div class="w-1/2 p-3">
            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg shadow-md mb-4"
                role="alert">
                <p class="font-bold">Estudiante con M치s Inasistencias</p>
                <p>El estudiante <span class="font-semibold">{{studentWordtAttendance}}</span> tiene m치s inasistencias
                    en todo el
                    curso.</p>
            </div>
        </div>
    </div>
    <div class="flex flex-col items-center justify-center" *ngIf="isTutor">
        <h3 class="text-xl font-semibold mb-4">Estudiantes con Bajo Promedio</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 w-full">

            <div *ngFor="let student of worstProm" class="card bg-blue-100">
                <div class="first-content text-center">
                    <span class="text-lg font-semibold mb-2">{{student.nombreEstudiante}}</span>
                </div>
                <div class="second-content flex flex-col">
                    <p class="text-gray-700">Materia: <span class="font-semibold">{{student.nombreMateria}}</span></p>
                    <p class="text-gray-700">Promedio: <span class="font-semibold">{{student.promedio | number:'1.2-2'
                            }}</span></p>
                </div>
            </div>

        </div>
    </div>
    <div class="flex flex-row items-center justify-center mb-4 mt-5">
        <div class="flex items-center w-full">
            <div class="flex-grow border-t border-gray-300"></div>
            <h3 class="text-2xl font-semibold mx-4">Mis materias</h3>
            <div class="flex-grow border-t border-gray-300"></div>
        </div>
    </div>
    <div class="flex flex-col items-center justify-center mt-8">
        <div class="w-full flex flex-row justify-between">
            <div class="w-2/3 mr-4">
                <div class="flex flex-col items-center justify-center">
                    <h3 class="text-xl font-semibold mb-4">Asignaciones por Calificar</h3>
                </div>
                <div class="px-4">
                    <table class="divide-y divide-gray-200 w-full">
                        <thead class="bg-blue-50">
                            <tr>
                                <th
                                    class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Asignaci칩n</th>
                                <th
                                    class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Materia</th>
                                <th
                                    class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Fecha de Entrega</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr *ngIf="asignacionesPendientes === null">
                                <td class="px-6 py-4 text-sm text-gray-900 text-center" colspan="3">No cuenta con asignaciones pendientes</td>
                            </tr>
                            <tr *ngFor="let asignacion of asignacionesPendientes">
                                <td class="px-6 py-4 text-sm text-gray-900 text-center">{{ asignacion.nombre }}</td>
                                <td class="px-6 py-4 text-sm text-gray-900 text-center">{{ asignacion.descripcion }}</td>
                                <td class="px-6 py-4 text-sm text-gray-900 text-center">{{ asignacion.fechaFin }}</td>
                            </tr>
                            <!-- Agrega m치s filas aqu칤 si es necesario -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="w-1/3">
                <div class="flex flex-col items-center justify-center">
                    <h3 class="text-xl font-semibold mb-4">Promedio por Materia</h3>
                </div>
                <div class="grid grid-cols-1 gap-4 h-96 overflow-y-auto">
                    <div *ngFor="let materia of promDistri"
                        class="bg-white border border-gray-300 rounded-lg shadow-md p-4 hover:bg-blue-50 transition duration-300">
                        <div class="flex items-center mb-2">
                            <div class="bg-blue-100  rounded-full p-2">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 2a10 10 0 100 20 10 10 0 000-20z"></path>
                                </svg>
                            </div>
                            <h4 class="text-lg font-semibold ml-2">{{materia.nombreMateria}}</h4>
                        </div>
                        <p class="text-gray-700">Promedio: <span class="font-semibold">{{materia.promedio | number:'1.2-2' }}</span></p>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>